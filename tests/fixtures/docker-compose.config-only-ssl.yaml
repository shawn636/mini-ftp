services:
  swag:
    image: lscr.io/linuxserver/swag:latest
    container_name: swag
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=America/Los_Angeles # Your TZ Here
      - URL=mini-ftp.duckdns.org # Your Domain Here
      - VALIDATION=duckdns
      - CERTPROVIDER=zerossl
      - EMAIL=shawnlong636@gmail.com # Your Email Here
    env_file:
      - path: .env # Must contain DUCKDNSTOKEN env var if using duckdns
        required: true
    volumes:
      - ssl:/config/etc/letsencrypt/
  ftp:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        ALPINE_VERSION: ${ALPINE_VERSION:-latest}

    ports:
      - "2124:21"
      - "22030-22039:22030-22039"
    environment:
      - CONFIG_FILE=/etc/ftp/config-ssl.yaml
      - LOG_LEVEL=DEBUG
    env_file:
      - path: .env
        required: true
    volumes:
      - ./config-ssl.yaml:/etc/ftp/config-ssl.yaml
      - ssl:/ssl
volumes:
  ssl:
